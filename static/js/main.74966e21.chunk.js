(this["webpackJsonptable-test"]=this["webpackJsonptable-test"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"addEmptyRow",(function(){return h})),n.d(c,"deleteRow",(function(){return m})),n.d(c,"editRow",(function(){return v})),n.d(c,"changeRows",(function(){return y})),n.d(c,"setTable",(function(){return w}));var a=n(0),r=n.n(a),s=n(6),i=n.n(s),o=n(3),l=n(4),b=n(2),u=n(11),j="SET_TABLE",d="ADD_ROW",O="DELETE_ROW",x="EDIT_ROW",f="SET_ERROR",p="CHANGE_ROWS",h=function(){var e={id:Object(u.a)(),name:"",value:""};return{type:d,payload:e}},m=function(e){return{type:O,payload:e}},v=function(e){return{type:x,payload:e}},y=function(e){return{type:p,payload:e}},w=function(e){return function(t){t({type:f,payload:null});try{var n=JSON.parse(e);t({type:j,payload:n.map((function(e){return Object(b.a)({id:Object(u.a)()},e)}))})}catch(c){t({type:f,payload:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u043e\u043a\u0438"})}}},g=c,N=function(){var e=Object(o.b)();return Object(l.bindActionCreators)(g,e)},R=n(1),E=function(){var e=N().addEmptyRow;return Object(R.jsx)("div",{className:"d-flex justify-content-between mb-5",children:Object(R.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return e()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443"})})},C=function(){var e=Object(o.c)((function(e){return e.table})).error;return e?Object(R.jsx)("div",{class:"alert alert-danger",role:"alert",children:e}):null},I=n(8),S=(n(29),function(e){var t=e.id,n=e.name,c=e.value,a=e.index,r=e.isFirstRow,s=e.isLastRow,i=N(),o=i.deleteRow,l=i.editRow,b=i.changeRows;return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:Object(R.jsx)("input",{className:"tableInput",name:"name"+t,type:"text",value:n,onChange:function(e){l({id:t,name:e.target.value,value:c})}})}),Object(R.jsx)("td",{children:Object(R.jsx)("input",{className:"tableInput",name:"value"+t,type:"text",value:c,onChange:function(e){l({id:t,name:n,value:e.target.value})}})}),Object(R.jsx)("td",{children:Object(R.jsx)("button",{className:"btn btn-danger",onClick:function(){return b({firstIndex:a,secondIndex:a-1})},disabled:r,children:Object(R.jsx)(I.b,{})})}),Object(R.jsx)("td",{children:Object(R.jsx)("button",{className:"btn btn-danger",onClick:function(){return b({firstIndex:a,secondIndex:a+1})},disabled:s,children:Object(R.jsx)(I.a,{})})}),Object(R.jsx)("td",{children:Object(R.jsx)("button",{className:"btn btn-danger",onClick:function(){return o(t)},children:Object(R.jsx)(I.c,{})})})]})}),k=function(){var e=Object(o.c)((function(e){return e.table})).rows;return 0===e.length?Object(R.jsx)("h2",{children:"Empty table"}):Object(R.jsxs)("table",{className:"table text-center bg-white",children:[Object(R.jsx)("thead",{className:"bg-primary",children:Object(R.jsxs)("tr",{className:"text-light",children:[Object(R.jsx)("th",{scope:"col",children:"Name"}),Object(R.jsx)("th",{scope:"col",children:"Value"}),Object(R.jsx)("th",{scope:"col",colSpan:"3",children:"table actions"})]})}),Object(R.jsx)("tbody",{className:"text-center",children:e.map((function(t,n){var c=0===n,a=n===e.length-1;return Object(R.jsx)(S,Object(b.a)(Object(b.a)({},t),{},{index:n,isFirstRow:c,isLastRow:a}),t.id)}))})]})},T=n(16),_=(n(30),function(){var e=Object(a.useState)(),t=Object(T.a)(e,2),n=t[0],c=t[1],r=Object(o.c)((function(e){return e.table})).rows,s=N().setTable;Object(a.useEffect)((function(){c(JSON.stringify(i))}),[]);var i=r.map((function(e){return{name:e.name,value:e.value}}));return Object(R.jsxs)("div",{className:"mb-5",children:[Object(R.jsx)("textarea",{className:"textarea",value:n,onChange:function(e){c(e.target.value)}}),Object(R.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(R.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){c(JSON.stringify(i))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(R.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return s(n)},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})]})}),D=function(){return Object(R.jsxs)("div",{className:"container",children:[Object(R.jsx)(k,{}),Object(R.jsx)(E,{}),Object(R.jsx)(_,{}),Object(R.jsx)(C,{})]})},J=n(17),W=n(12),A=["id"],L={rows:[{id:"1",name:"test1",value:"1"},{id:"2",name:"test2",value:"2"},{id:"3",name:"test3",value:"3"},{id:"4",name:"test4",value:"4"}],error:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return console.log("test"),Object(b.a)(Object(b.a)({},e),{},{rows:t.payload});case d:return Object(b.a)(Object(b.a)({},e),{},{rows:[].concat(Object(W.a)(e.rows),[t.payload])});case f:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});case x:return Object(b.a)(Object(b.a)({},e),{},{rows:e.rows.map((function(e){var n=t.payload,c=n.id,a=Object(J.a)(n,A);return e.id===c?Object(b.a)(Object(b.a)({},e),a):e}))});case O:return Object(b.a)(Object(b.a)({},e),{},{rows:e.rows.filter((function(e){return e.id!==t.payload}))});case p:var n=t.payload,c=n.firstIndex,a=n.secondIndex,r=Object(W.a)(e.rows);if(!r[c]||!r[a])return e;var s=r[c];return r[c]=r[a],r[a]=s,Object(b.a)(Object(b.a)({},e),{},{rows:r});default:return e}},F=Object(l.combineReducers)({table:B}),M=n(14),G=n(15),H=Object(l.createStore)(F,Object(M.composeWithDevTools)(Object(l.applyMiddleware)(G.a)));i.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(o.a,{store:H,children:Object(R.jsx)(D,{})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.74966e21.chunk.js.map